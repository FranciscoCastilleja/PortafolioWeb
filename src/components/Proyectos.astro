---
import Section from "./Section.astro";
import AstroIcon from "./icons/AstroIcon.astro";
import CSSIcon from "./icons/CSSIcon.astro";
import GitHubIcon from "./icons/GitHubIcon.astro";
import HTML5Icon from "./icons/HTML5Icon.astro";
import JavaScriptIcon from "./icons/JavaScriptIcon.astro";
import NetlifyIcon from "./icons/NetlifyIcon.astro";
import ProyectosIcon from "./icons/ProyectosIcon.astro";
import TailwindCSSIcon from "./icons/TailwindCSSIcon.astro";
import ExternalLinkIcon from "./icons/ExternalLinkIcon.astro";
import MostrarProyecto from "./MostrarProyecto.astro";

import { getI18N } from '../i18n/';
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale })
---

<Section id="proyectos">
    <h2 class="flex pb-1 text-xl font-bold items-center gap-x-1">
        <ProyectosIcon class="fill-black dark:fill-white"/>
        {i18n.Menu_OP_4}
    </h2>
    <div class="py-5 w-full h-auto lg:max-w-2xl"> 
        <div class="grid my-2 p-2 place-items-center gap-3 grid-cols-1 md:grid-cols-2 lg:grid-cols-2">
            <div class="col-auto row-auto max-w-sm bg-gray-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 md:max-w-lg">
                <img class="rounded-t-lg zoom" src="../../public/media/MisIdeas-IMG-1.webp" alt="Foto de la página Mis Ideas" />
                <div class="p-5">
                    <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">Mis Ideas</h5>
                    <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{i18n.P_1_Description_1}</p>
                    <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{i18n.P_1_Description_2}</p>
                    <span class="flex mb-3 py-1 gap-x-1">
                        <AstroIcon class="fill-black dark:fill-white" width="25" height="25"/>
                        <HTML5Icon width="25" height="25"/>
                        <CSSIcon width="25" height="25"/>
                        <TailwindCSSIcon width="25" height="25"/>
                        <JavaScriptIcon width="25" height="25"/>
                        <NetlifyIcon width="25" height="25"/>
                    </span>
                    <span class="flex mb-3 py-1 gap-x-1">
                        <a href="https://misideas.netlify.app/" target="_blank">
                            <ExternalLinkIcon width="25" height="25"/>
                        </a>
                        <a href="https://github.com/FranciscoCastilleja/MisIdeas" target="_blank">
                            <GitHubIcon width="25" height="25"/>
                        </a>
                    </span>
                    <button id="show-1" type="button" class="inline-flex cursor-pointer items-center px-3 py-2 text-sm font-medium text-center text-white bg-purple-700 rounded-lg hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800">
                        {i18n.P_Button}
                        <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="col-auto row-auto max-w-sm bg-gray-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 md:max-w-lg">
                <img class="rounded-t-lg zoom" src="public/media/SpaceX-Clon-IMG-1.webp" alt="Foto de la página SpaceX - Clon" />
                <div class="p-5">
                    <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">SpaceX - Clon</h5>
                    <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{i18n.P_2_Description_1}</p>
                    <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">{i18n.P_2_Description_2}</p>
                    <span class="flex mb-3 py-1 gap-x-1">
                        <AstroIcon class="fill-black dark:fill-white" width="25" height="25"/>
                        <HTML5Icon width="25" height="25"/>
                        <CSSIcon width="25" height="25"/>
                        <TailwindCSSIcon width="25" height="25"/>
                        <JavaScriptIcon width="25" height="25"/>
                        <NetlifyIcon width="25" height="25"/>
                    </span>
                    <span class="flex mb-3 py-1 gap-x-1">
                        <a href="https://spacexclon.netlify.app/" target="_blank">
                            <ExternalLinkIcon width="25" height="25"/>
                        </a>
                        <a href="https://github.com/FranciscoCastilleja/SpaceXClon" target="_blank">
                            <GitHubIcon width="25" height="25"/>
                        </a>
                    </span>
                    <button id="show-2" type="button" class="inline-flex cursor-pointer items-center px-3 py-2 text-sm font-medium text-center text-white bg-purple-700 rounded-lg hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800">
                        {i18n.P_Button}
                        <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <MostrarProyecto/>
</Section>

<script>
    let Show = document.querySelectorAll('div button');
    let Panel = document.getElementById('Panel') as HTMLElement;
    let body = document.querySelector('body') as HTMLElement;

    Show.forEach(function (b) {
        b.addEventListener('click', () => {
            Panel.classList.remove('hidden')
            body.classList.add('overflow-hidden')

            if (b.id === "show-1") {
                let imgs = Panel.querySelectorAll('img');
                imgs.forEach(function (img) {
                    if (img.id == "D-L") {
                        img.src = "../../public/media/Desktop-MisIdeas.webp";
                    }
                    if (img.id == "D-D") {
                        img.src = "../../public/media/Desktop-MisIdeas.webp";
                    }
                    if (img.id == "L-L") {
                        img.src = "../../public/media/Laptop-MisIdeas.webp";
                    }
                    if (img.id == "L-D") {
                        img.src = "../../public/media/Laptop-MisIdeas.webp";
                    }
                    if (img.id == "T-L") {
                        img.src = "../../public/media/Tablet-MisIdeas.webp";
                    }
                    if (img.id == "T-D") {
                        img.src = "../../public/media/Tablet-MisIdeas.webp";
                    }
                    if (img.id == "M-L") {
                        img.src = "../../public/media/Mobile-MisIdeas.webp";
                    }
                    if (img.id == "M-D") {
                        img.src = "../../public/media/Mobile-MisIdeas.webp";
                    }
                })
            } else if (b.id === "show-2") {
                let imgs = Panel.querySelectorAll('img');
                imgs.forEach(function (img) {
                    if (img.id == "D-L") {
                        img.src = "../../public/media/Desktop-SpaceX-Clon.webp";
                    }
                    if (img.id == "D-D") {
                        img.src = "../../public/media/Desktop-SpaceX-Clon.webp";
                    }
                    if (img.id == "L-L") {
                        img.src = "../../public/media/Laptop-SpaceX-Clon.webp";
                    }
                    if (img.id == "L-D") {
                        img.src = "../../public/media/Laptop-SpaceX-Clon.webp";
                    }
                    if (img.id == "T-L") {
                        img.src = "../../public/media/Tablet-SpaceX-Clon.webp";
                    }
                    if (img.id == "T-D") {
                        img.src = "../../public/media/Tablet-SpaceX-Clon.webp";
                    }
                    if (img.id == "M-L") {
                        img.src = "../../public/media/Mobile-SpaceX-Clon.webp";
                    }
                    if (img.id == "M-D") {
                        img.src = "../../public/media/Mobile-SpaceX-Clon.webp";
                    }
                })
            }
        });
    })
</script>